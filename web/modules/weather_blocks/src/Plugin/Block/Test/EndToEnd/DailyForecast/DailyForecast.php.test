<?php

namespace Drupal\weather_blocks\Plugin\Block\Test\EndToEnd;

use Drupal\weather_blocks\Plugin\Block\DailyForecastBlock;

/**
 * Tests for daily forecast data structure.
 */
final class DailyForecastStructureTest extends EndToEndBase
{
    /**
     * Create the block under test.
     */
    protected function setUp($type = null): void
    {
        parent::setUp(DailyForecastBlock::class);
    }

    /**
     * Simply validate the data structure.
     * @group e2e
     */
    public function testDailyForecastDataStructure(): void
    {
        $this->onLocationRoute(33.521, -86.812);

        $schema = SchemaHelper::load("daily.json");

        $data = $this->block->build();

        $schema->in(json_decode(json_encode($data["today"][0])));
        $this->assertTrue(true);
    }
}
