@use "uswds-core" as *;

/**
 * The Weather Story area uses a simple CSS Grid
 * API setup in order to facilitate the reordering and
 * display of the story image when at the desktop size
 */
.wx-weather-story-wrapper {
    display: grid;
    grid-template-areas:
        "a"
        "b"
        "c";
}

.wx-weather-story-wrapper > *:first-child {
    grid-area: a;
}

.wx-weather-story-wrapper > *:nth-child(2) {
    grid-area: b;
}

.wx-weather-story-wrapper > :last-child {
    grid-area: c;
}

.wx-weather-story-block-section {
    position: relative;
}


@include at-media("desktop") {
    .wx-weather-story-wrapper {
        grid-template-areas:
            "a b b"
            "c b b";
        grid-auto-columns: 1fr;
        column-gap: units(4);
    }

    .wx-weather-story-wrapper > *:nth-child(2) {
        margin-top: units(3);
    }
}

/**
 * NOTE: We use the before/after pseudo elements
 * to make the colored weather story section "appear"
 * to be full screen width on tablet/desktop (the current
 * layout structure prevents us from doing this a easier way).
 * These pseudo elements _do not_ respect the border-box
 * sizing of their parent element, so we have to add pixels
 * to the height and the top attributes
*/
.wx-weather-story-block-section::before,
.wx-weather-story-block-section::after {
    content: " ";
    display: block;
    position: absolute;
    width: units(2);
    height: calc(100% + 2px);
    background-color: color("accent-cool-lightest");;
    border-top: 1px solid color("base-light");
    border-bottom: 1px solid color("base-light");
    top: -1px;
}

.wx-weather-story-block-section::before {
    right: 100%;
}

.wx-weather-story-block-section::after {
    left: 100%;
}

@include at-media("mobile") {
    .wx-weather-story-block-section::before,
    .wx-weather-story-block-section::after {
        display: none;
    }                                                                    
}
